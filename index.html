<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Frog Clicker iPad Edition</title>
    <style>
        :root {
            --grass: #7cfc00;
            --wood: #5d4037;
            --ui-bg: rgba(0, 0, 0, 0.85);
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Courier New', Courier, monospace;
            background: #2c3e50;
            color: white;
            overflow: hidden;
            touch-action: manipulation; /* Hindrer zooming ved hurtigklikking */
        }

        /* Skjermh√•ndtering */
        .screen {
            position: absolute;
            width: 100vw;
            height: 100vh;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        #title-screen {
            display: flex;
            background: linear-gradient(#4facfe 0%, #00f2fe 100%);
            z-index: 100;
        }

        #game-screen {
            background: var(--grass);
            background-image: radial-gradient(#2ecc71 15%, transparent 15%);
            background-size: 40px 40px;
        }

        /* Sidebar og Tab-system */
        #sidebar {
            position: absolute;
            left: 0;
            top: 0;
            width: 280px;
            height: 100%;
            background: var(--ui-bg);
            border-right: 4px solid var(--wood);
            z-index: 50;
            display: flex;
            flex-direction: column;
        }

        .tabs {
            display: flex;
            background: var(--wood);
        }

        .tab-btn {
            flex: 1;
            padding: 15px 5px;
            border: none;
            color: white;
            background: #3e2723;
            font-size: 12px;
            cursor: pointer;
        }

        .tab-btn.active {
            background: #8d6e63;
            font-weight: bold;
        }

        .tab-content {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Frosken og effekter */
        .frog-container {
            position: absolute;
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 50px;
            transition: transform 0.1s;
            z-index: 10;
        }

        /* Hvit outline ved "hover" (ber√∏ring p√• iPad) */
        .frog-container:active, .frog-container:hover {
            filter: drop-shadow(2px 0 0 white) drop-shadow(-2px 0 0 white) 
                    drop-shadow(0 2px 0 white) drop-shadow(0 -2px 0 white);
        }

        .croak-text {
            position: absolute;
            top: -20px;
            font-size: 14px;
            background: white;
            color: black;
            padding: 2px 6px;
            border-radius: 10px;
            display: none;
        }

        /* Fox */
        .fox-npc {
            position: absolute;
            font-size: 40px;
            z-index: 20;
            transition: left 10s linear;
        }

        /* UI Elementer */
        #stats {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0,0,0,0.5);
            padding: 10px 20px;
            border-radius: 30px;
            font-size: 24px;
            z-index: 60;
        }

        .menu-btn {
            position: absolute;
            top: 10px;
            left: 290px;
            font-size: 30px;
            background: none;
            border: none;
            color: black;
            z-index: 60;
        }

        button {
            padding: 10px 20px;
            margin: 5px;
            border-radius: 8px;
            border: none;
            background: #f1c40f;
            font-weight: bold;
        }

        .item-card {
            background: #444;
            padding: 10px;
            margin-bottom: 8px;
            border-radius: 5px;
        }
    </style>
</head>
<body>

    <div id="title-screen" class="screen">
        <h1>FROG CLICKER</h1>
        <button onclick="startGame()">START GAME</button>
        <button onclick="alert('Settings: Music On/Off (Placeholder)')">SETTINGS</button>
        <button onclick="loadGame()">LOAD GAME</button>
    </div>

    <div id="game-screen" class="screen">
        <button class="menu-btn" onclick="backToMenu()">‚â°</button>
        <div id="stats">Clicks: <span id="count">0</span></div>

        <div id="sidebar">
            <div class="tabs">
                <button class="tab-btn active" onclick="openTab(event, 'shop')">SHOP</button>
                <button class="tab-btn" onclick="openTab(event, 'log')">LOG</button>
                <button class="tab-btn" onclick="openTab(event, 'achievements')">ACHIV</button>
            </div>
            
            <div id="shop" class="tab-content active">
                <h3>Hatt Hangar</h3>
                <div class="item-card" onclick="buyHat('Leaf Hat', 20)">Leaf Hat (20 Clicks)</div>
                <div class="item-card" onclick="buyHat('Tiny Crown', 100)">Tiny Crown (100 Clicks)</div>
            </div>

            <div id="log" class="tab-content">
                <h3>Frog Log</h3>
                <div id="log-list"></div>
            </div>

            <div id="achievements" class="tab-content">
                <h3>Achievements</h3>
                <div id="achieve-list">None yet...</div>
            </div>
        </div>

        <div id="world">
            </div>
    </div>

<script>
    let state = {
        clicks: 0,
        frogs: [],
        unlockedSpecies: new Set(['Green Frog']),
        inventory: []
    };

    // Starter spillet og lager den f√∏rste frosken
    function startGame() {
        document.getElementById('title-screen').style.display = 'none';
        document.getElementById('game-screen').style.display = 'block';
        
        if (state.frogs.length === 0) {
            spawnFrog("Green Frog", 50, 50); // Midten av skjermen
        }
        renderWorld();
        startFoxTimer();
    }

    function spawnFrog(species, x, y) {
        const frog = {
            id: Date.now() + Math.random(),
            species: species,
            x: x,
            y: y,
            level: 1,
            hat: 'None'
        };
        state.frogs.push(frog);
        renderWorld();
    }

    function renderWorld() {
        const world = document.getElementById('world');
        world.innerHTML = '';
        
        state.frogs.forEach(frog => {
            const container = document.createElement('div');
            container.className = 'frog-container';
            container.style.left = frog.x + '%';
            container.style.top = frog.y + '%';
            
            // iPad touch-event
            container.ontouchstart = (e) => {
                e.preventDefault();
                handleFrogClick(frog, container);
            };
            // Mus-event for PC-testing
            container.onclick = () => handleFrogClick(frog, container);

            container.innerHTML = `
                <div class="croak-text">Ribbit!</div>
                <div class="frog-icon">üê∏</div>
            `;
            
            world.appendChild(container);
        });
    }

    function handleFrogClick(frog, element) {
        state.clicks++;
        updateUI();

        // Visuell klikk-effekt
        const bubble = element.querySelector('.croak-text');
        bubble.style.display = 'block';
        element.style.transform = 'scale(1.3) rotate(5deg)';
        
        setTimeout(() => {
            bubble.style.display = 'none';
            element.style.transform = 'scale(1) rotate(0deg)';
        }, 200);

        // Auto-lagring
        saveGame();
    }

    function buyHat(name, cost) {
        if (state.clicks >= cost) {
            state.clicks -= cost;
            state.inventory.push(name);
            alert("Bought " + name + "!");
            updateUI();
        } else {
            alert("Ikke nok clicks!");
        }
    }

    function openTab(evt, tabName) {
        const contents = document.getElementsByClassName("tab-content");
        for (let c of contents) c.style.display = "none";
        const buttons = document.getElementsByClassName("tab-btn");
        for (let b of buttons) b.classList.remove("active");
        
        document.getElementById(tabName).style.display = "block";
        evt.currentTarget.classList.add("active");
    }

    function startFoxTimer() {
        setTimeout(() => {
            const fox = document.createElement('div');
            fox.className = 'fox-npc';
            fox.innerHTML = 'ü¶ä';
            fox.style.top = Math.random() * 80 + '%';
            fox.style.left = '-50px';
            document.getElementById('world').appendChild(fox);

            setTimeout(() => fox.style.left = '110vw', 100);
            
            fox.onclick = () => {
                state.clicks += 50;
                alert("Bonus fra reven!");
                fox.remove();
                updateUI();
            };
            
            setTimeout(() => fox.remove(), 10000);
            startFoxTimer();
        }, 20000 + Math.random() * 20000);
    }

    function updateUI() {
        document.getElementById('count').innerText = Math.floor(state.clicks);
    }

    function saveGame() {
        localStorage.setItem('frogData', JSON.stringify({
            clicks: state.clicks,
            frogs: state.frogs,
            inventory: state.inventory
        }));
    }

    function loadGame() {
        const data = localStorage.getItem('frogData');
        if (data) {
            const parsed = JSON.parse(data);
            state.clicks = parsed.clicks;
            state.frogs = parsed.frogs;
            state.inventory = parsed.inventory;
            startGame();
        } else {
            alert("Ingen lagrede spill funnet.");
        }
    }

    function backToMenu() {
        document.getElementById('game-screen').style.display = 'none';
        document.getElementById('title-screen').style.display = 'flex';
    }
</script>
</body>
</html>
  

    
            
